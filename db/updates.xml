<?xml version="1.0" encoding="UTF-8"?>
<updates>
	<!-- Beispiel 
		Aenderungen, die die Struktur der Datenbank aendern, sollten getrennt von reinen 
		Aenderungen an den Daten gehalten werden. Dies erleichtert das aktualliseren des Servers
		und auch eigener Datenbestaende, die man ggf angepasst hat. 
		Ausgenommen sind Aenderungen an den Daten, die in Folge von Strukturaenderungen zwingent notwendig
		sind. Diese sollten jedoch generisch formuliert sein, so dass sie nicht nur auf den Beispiedaten
		funktionieren.
		Die Identifikation erfolgt ueber das Attribut type, das entweder den Wert "structure", "data" 
		oder "text" annehmen kann ("text" bezeichnet Updates, zu denen kein SQL-Kommando sondern nur eine
		Beschreibung existiert)
		Zusaetzlich verfuegt jedes update ueber ein Datum in der Form "JJJJ-MM-TT".
		
		<update type="structure" datum="2006-10-31"><![CDATA[
			ALTER TABLE academy ...;
			CREATE TABLE irgendwas (....);
		]]></update>
		
		<update type="data" datum="2006-11-01"><![CDATA[
			INSERT INTO ammo (name) VALUES ("Meine ganz tolle neue Supermunition");
			UPDATE ship_types SET crew=1 WHERE crew > 1;
		]]></update>
		 
	-->
	<update type="data" datum="2006-11-11"><![CDATA[
		UPDATE users SET ally=0 WHERE id=-15;									
	]]></update>
	<update type="data" datum="2006-11-11"><![CDATA[
		UPDATE users SET passwort='98f6bcd4621d373cade4e832627b4f6' WHERE passwort='098f6bcd4621d373cade4e832627b4f6';
	]]></update>
	<update type="structure" datum="2006-11-11"><![CDATA[	
		CREATE TABLE `werften` (
  			`id` int(11) NOT NULL auto_increment,
  			`type` smallint(6) NOT NULL default '0',
  			`building` int(11) NOT NULL default '0',
  			`item` smallint(6) NOT NULL default '-1',
  			`remaining` tinyint(4) NOT NULL default '0',
  			`flagschiff` tinyint(1) unsigned NOT NULL default '0',
  			`col` int(11) NOT NULL default '0',
  			`shipid` int(11) NOT NULL default '0',
  			`linked` int(10) unsigned NOT NULL default '0',
  			PRIMARY KEY  (`id`),
  			KEY `col` (`col`),
  			KEY `shipid` (`shipid`)
		) ENGINE=InnoDB DEFAULT CHARSET=utf8;
	]]></update>
	<update type="structure" datum="2006-11-26"><![CDATA[	
		CREATE TABLE `config_vacmodes` (
		  `id` int(11) NOT NULL auto_increment,
		  `dauer` int(10) unsigned NOT NULL default '1',
		  `vorlauf` int(10) unsigned NOT NULL default '1',
		  PRIMARY KEY  (`id`)
		) ENGINE=InnoDB DEFAULT CHARSET=utf8;
		
		INSERT INTO `config_vacmodes` (`id`, `dauer`, `vorlauf`) VALUES (1, 35, 14),
		(2, 49, 14),
		(3, 98, 14),
		(4, 147, 14),
		(5, 196, 14);
	]]></update>
	<update type="structure" datum="2006-12-01"><![CDATA[
		ALTER TABLE `quests_running` CHANGE `execdata` `execdata` BLOB NOT NULL;
		ALTER TABLE `ships` CHANGE `scriptexedata` `scriptexedata` BLOB NULL DEFAULT NULL;
	]]></update>
	<update type="structure" datum="2006-12-01"><![CDATA[
		ALTER TABLE users CHANGE nstat nstat VARCHAR(30) NOT NULL DEFAULT '';
		ALTER TABLE stats_verkaeufe CHANGE system system TINYINT NOT NULL DEFAULT 1;
	]]></update>
	<update type="structure" datum="2007-01-06"><![CDATA[
		ALTER TABLE ships ADD INDEX type (type);
	]]></update>
</updates>
